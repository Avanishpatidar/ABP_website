<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Primary Meta Tags -->
    <title>Blog - Avanish Patidar | AI, Coding & Tech Insights</title>
    <meta name="title" content="Blog - Avanish Patidar | AI, Coding & Tech Insights">
    <meta name="description" content="Read my thoughts on AI agents, software engineering, and modern development. Real developer insights on Cursor, Copilot, agentic AI, and building production systems.">
    <meta name="keywords" content="AI blog, software engineering blog, Cursor vs Copilot, agentic AI, coding in 2024, AI agents, tech blog, developer blog">
    <meta name="author" content="Avanish Patidar">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://avanishpatidar.me/writings">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://avanishpatidar.me/writings">
    <meta property="og:title" content="Blog - Avanish Patidar | AI, Coding & Tech Insights">
    <meta property="og:description" content="Real developer insights on AI agents, software engineering, and modern development tools.">
    <meta property="og:image" content="https://avanishpatidar.me/images/blog-og.png">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://avanishpatidar.me/writings">
    <meta property="twitter:title" content="Blog - Avanish Patidar | AI, Coding & Tech Insights">
    <meta property="twitter:description" content="Real developer insights on AI agents, software engineering, and modern development tools.">
    <meta property="twitter:image" content="https://avanishpatidar.me/images/blog-og.png">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="alternate icon" href="/favicon.svg">
    <link rel="mask-icon" href="/favicon.svg" color="#FF7043">
    
    <!-- Structured Data - Blog Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Blog",
      "name": "Avanish Patidar's Blog",
      "description": "Insights on AI agents, software engineering, and modern development",
      "url": "https://avanishpatidar.me/writings",
      "author": {
        "@type": "Person",
        "name": "Avanish Patidar"
      }
    }
    </script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/styles.css">
</head>

<body>
    <div class="container">
        <div class="sidebar">
            <nav class="nav">
                <a href="../index.html#about" class="nav-link">about</a>
                <a href="../index.html#experience" class="nav-link">experience</a>
                <a href="../index.html#projects" class="nav-link">projects</a>
                <a href="../index.html#skills" class="nav-link">skills</a>
                <a href="../index.html#contact" class="nav-link">contact</a>
                <a href="writings.html" class="nav-link active">blogs</a>
            </nav>
        </div>

        <div class="content">
            <section id="writings" class="section">
                <h1 class="section-title">Blogs</h1>
                <p class="section-text">
                    A collection of my thoughts, tutorials, and insights on technology,
                    programming and fun :)
                </p>

                <div id="blog-posts-container">
                </div>
            </section>
            <section id="blog-content" class="section" style="display: none;">
                <a href="#" id="back-to-posts" class="view-button" style="margin-bottom: 30px;">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" />
                    </svg>
                    Back to Posts
                </a>
                <div id="post-content"></div>
            </section>
        </div>
    </div>

    <!-- Mobile Navigation -->
    <button class="mobile-menu-btn" id="mobile-menu-btn">
        // MENU
    </button>

    <div class="mobile-menu-overlay" id="mobile-menu-overlay">
        <a href="../index.html#about" class="mobile-nav-link" style="transition-delay: 0.1s;">about</a>
        <a href="../index.html#experience" class="mobile-nav-link" style="transition-delay: 0.2s;">experience</a>
        <a href="../index.html#projects" class="mobile-nav-link" style="transition-delay: 0.3s;">projects</a>
        <a href="../index.html#skills" class="mobile-nav-link" style="transition-delay: 0.4s;">skills</a>
        <a href="../index.html#contact" class="mobile-nav-link" style="transition-delay: 0.5s;">contact</a>
        <a href="writings.html" class="mobile-nav-link" style="transition-delay: 0.6s;">blogs</a>
    </div>

    <!-- Scroll to Top Button -->
    <button id="scroll-to-top" class="scroll-to-top">
        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 4l-8 8h6v8h4v-8h6z" />
        </svg>
    </button>

    <!-- Fixed CTA Buttons -->
    <a href="https://wa.me/917697793284" target="_blank" class="cta-btn cta-lets-talk" 
       aria-label="Let's Talk">
        <div class="cta-icon">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor">
                <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/>
            </svg>
        </div>
        <span class="cta-text">Let's Talk</span>
    </a>

    <a href="mailto:avanish.patidar07@gmail.com" class="cta-btn cta-hire-me"
       aria-label="Hire Me">
        <div class="cta-icon">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                <polyline points="22,6 12,13 2,6"></polyline>
            </svg>
        </div>
        <span class="cta-text">Hire Me</span>
    </a>

    <script src="../blog/blog-list.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="../js/main.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const blogPostsContainer = document.getElementById('blog-posts-container');
            const blogContent = document.getElementById('blog-content');
            const postContent = document.getElementById('post-content');
            const backToPostsBtn = document.getElementById('back-to-posts');

            // Display all blog posts
            blogPosts.forEach(post => {
                const postElement = document.createElement('div');
                postElement.className = 'blog-card';
                // Add data-slug to the card itself for easier clicking
                postElement.dataset.slug = post.slug;

                postElement.innerHTML = `
                    <div class="blog-card-date">${post.date}</div>
                    <h3 class="blog-card-title">${post.title}</h3>
                    <p class="blog-card-summary">${post.summary}</p>
                    <div class="blog-card-link">
                        Read Article
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M5 12h14M12 5l7 7-7 7"/>
                        </svg>
                    </div>
                `;

                // Add click event to the whole card
                postElement.addEventListener('click', () => {
                    // Trigger the same logic as the title link
                    const link = document.createElement('a');
                    link.dataset.slug = post.slug;
                    // We need to manually trigger the click handler logic or refactor. 
                    // Let's refactor the handler below to accept a slug directly.
                    loadBlogPost(post.slug);
                });

                blogPostsContainer.appendChild(postElement);
            });

            // Function to update meta tags for SEO
            function updateMetaTags(post) {
                const url = `https://avanishpatidar.me/writings#${post.slug}`;
                const image = `https://avanishpatidar.me/images/blog/${post.slug.replace(/-/g, '_')}_blog_header.png`;
                
                // Update meta tags
                updateMeta('description', post.summary);
                updateMeta('og:title', post.title);
                updateMeta('og:description', post.summary);
                updateMeta('og:url', url);
                updateMeta('og:image', image);
                updateMeta('twitter:title', post.title);
                updateMeta('twitter:description', post.summary);
                updateMeta('twitter:image', image);
                
                // Add Article Schema
                const script = document.createElement('script');
                script.type = 'application/ld+json';
                script.text = JSON.stringify({
                    "@context": "https://schema.org",
                    "@type": "BlogPosting",
                    "headline": post.title,
                    "description": post.summary,
                    "datePublished": post.date,
                    "author": {
                        "@type": "Person",
                        "name": "Avanish Patidar"
                    },
                    "url": url,
                    "image": image
                });
                
                // Remove old schema if exists
                const oldScript = document.querySelector('script[type="application/ld+json"]');
                if (oldScript && oldScript.textContent.includes('BlogPosting')) {
                    oldScript.remove();
                }
                document.head.appendChild(script);
            }
            
            function updateMeta(name, content) {
                let meta = document.querySelector(`meta[name="${name}"], meta[property="${name}"]`);
                if (!meta) {
                    meta = document.createElement('meta');
                    if (name.startsWith('og:') || name.startsWith('twitter:')) {
                        meta.setAttribute('property', name);
                    } else {
                        meta.setAttribute('name', name);
                    }
                    document.head.appendChild(meta);
                }
                meta.setAttribute('content', content);
            }

            // Refactored function to load blog post
            async function loadBlogPost(slug) {
                const post = blogPosts.find(p => p.slug === slug);
                if (!post) return;

                try {
                    const response = await fetch(`../blog/posts/${slug}.md`);
                    if (!response.ok) throw new Error('Post not found');

                    const markdown = await response.text();

                    postContent.innerHTML = `
                        <h1 class="section-title">${post.title}</h1>
                        <p class="blog-date" style="margin-bottom: 30px; color: var(--muted-text); font-family: 'Fira Code', monospace;">${post.date}</p>
                        <div class="blog-content">
                            ${marked.parse(markdown)}
                        </div>
                    `;

                    document.getElementById('writings').style.display = 'none';
                    blogContent.style.display = 'block';
                    
                    // Update SEO meta tags dynamically
                    document.title = `${post.title} - Avanish Patidar`;
                    updateMetaTags(post);

                    // Scroll to top
                    window.scrollTo(0, 0);

                    addCopyButtonsToCodeBlocks();

                } catch (error) {
                    console.error('Error loading blog post:', error);
                    postContent.innerHTML = `<p style="color: red;">Error loading post. Please try again.</p>`;
                }
            }

            // Remove old event listeners logic since we handle it in the card click now
            // document.querySelectorAll('.blog-title a').forEach(...)

            // Old event listeners removed in favor of card click handler

            // Back button functionality
            backToPostsBtn.addEventListener('click', (e) => {
                e.preventDefault();

                document.getElementById('writings').style.display = 'block';
                blogContent.style.display = 'none';
                document.title = 'Writings - Avanish Patidar';
            });

            // Initialize section animations (if needed on this page)
            // setupSectionAnimations(); // You can call setupSectionAnimations here if you want animations on the writings page sections too
        });
    </script>
</body>

</html>